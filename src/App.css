:root{
  --bg:#f7f5f3; --ink:#2b2b2b; --muted:#666; --heading:#1f1f1f;
  --accent:#d18b99; --accent-2:#f0c1c8; --accent-dark:#b86a7b;
  --card:#ffffff; --soft:#faf7f6; --shadow:0 12px 30px rgba(0,0,0,.08); --radius:16px;
  --ring: 0 0 0 3px color-mix(in oklab, var(--accent) 45%, transparent);
}

/* ===== 深色主題 ===== */
html[data-theme="dark"]{
  --bg:#101113; --ink:#f7f7f7; --muted:#cccccc; --heading:#ffffff;
  --accent:#f29bb0; --accent-2:#3a2e35; --accent-dark:#ffc3cf;
  --card:#15171a; --soft:#111316; --shadow:0 16px 40px rgba(0,0,0,.45);
  --ring: 0 0 0 3px color-mix(in oklab, var(--accent) 55%, transparent);
}

*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{font-family:"Noto Sans TC", Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji"; margin:0;color:var(--ink);background:radial-gradient(1200px 600px at 10% -10%, #ffe8ee40, transparent 60%), radial-gradient(1000px 500px at 110% 10%, #f0f6ff50, transparent 65%), var(--bg); line-height:1.75}
img{max-width:100%; display:block}
h1,h2,h3{color:var(--heading); margin:0 0 16px; letter-spacing:.5px}
h1{font-size:clamp(28px,4.5vw,44px); font-weight:900}
h2{font-size:clamp(22px,3vw,30px); font-weight:800}
h3{font-size:clamp(16px,2vw,20px); font-weight:700}
a{color:inherit; text-decoration:none}

/* ===== Header ===== */
header{
  position:sticky; top:0; z-index:50; backdrop-filter:saturate(120%) blur(10px);
  background:color-mix(in oklab, var(--card) 70%, transparent);
  border-bottom:1px solid color-mix(in oklab, var(--ink) 10%, transparent);
}
.inner{max-width:1200px; margin:0 auto; padding:14px 20px; display:grid; grid-template-columns:auto 1fr auto; gap:14px; align-items:center}
.logo{font-weight:900; letter-spacing:.8px}
nav ul{list-style:none; margin:0; padding:0; display:flex; gap:8px; flex-wrap:wrap}
nav a{padding:8px 12px; border-radius:999px; position:relative}
nav a:hover{background:color-mix(in oklab, var(--accent) 15%, transparent)}
nav a[aria-current="true"]{background:color-mix(in oklab, var(--accent) 22%, transparent)}
.ig-wrap{display:flex; gap:8px; align-items:center}
.icon-btn{display:inline-grid; place-items:center; width:38px; height:38px; border-radius:50%; border:1px solid color-mix(in oklab, var(--ink) 10%, transparent); background:var(--card); box-shadow:0 2px 8px rgba(0,0,0,.06); cursor:pointer}
.icon-btn:focus-visible{outline:none; box-shadow:var(--ring)}

.ig-link{width:38px; height:38px; display:inline-grid; place-items:center; border-radius:50%; background:var(--card); border:1px solid color-mix(in oklab, var(--ink) 10%, transparent)}
.ig-link svg{width:20px;height:20px; fill:var(--accent)}

/* ===== Progress bar top ===== */
.scrollbar{position:fixed; inset:0 auto auto 0; height:3px; width:0; background:linear-gradient(90deg,var(--accent), var(--accent-dark)); z-index:60; box-shadow:0 0 8px color-mix(in oklab, var(--accent) 50%, transparent)}

/* ===== Section base ===== */
section{max-width:1200px; margin:56px auto; padding:26px 20px; background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); border:1px solid color-mix(in oklab, var(--ink) 8%, transparent); opacity:0; transform:translateY(22px); transition:all .9s cubic-bezier(.2,.7,.2,1)}
section.visible{opacity:1; transform:none}

/* ===== Hero ===== */
#home{background:none; padding:28px 20px 160px; text-align:center; overflow:clip}
.hero-wrap{position:relative; width:100%; margin-top:14px}
.hero-frame{position:relative; border-radius:22px; padding:10px; background:linear-gradient(135deg, color-mix(in oklab, var(--accent) 50%, transparent), color-mix(in oklab, #8ec5ff 45%, transparent));}
.hero-bg{border-radius:16px; width:100%; max-height:480px; object-fit:cover; box-shadow:0 14px 40px rgba(0,0,0,.18)}
.hero-person{position:absolute; bottom:-84px; left:50%; width:280px; transform:translateX(-50%); z-index:2; filter:drop-shadow(0 12px 28px rgba(0,0,0,.35)); transition:transform .25s ease}
.hero-frame:hover + .hero-person, .hero-wrap:hover .hero-person{transform:translateX(-50%) scale(1.035)}

.eyebrow{display:inline-flex; gap:8px; align-items:center; padding:6px 10px; background:var(--soft); border:1px solid color-mix(in oklab, var(--ink) 8%, transparent); border-radius:999px; font-weight:700; letter-spacing:.6px; color:var(--accent)}
.subtitle{color:var(--muted); max-width:780px; margin:8px auto 0}

/* ===== About two-column ===== */
.about-grid{display:grid; grid-template-columns:1.05fr 1.2fr; gap:20px; align-items:start}
.tile{background:var(--soft); border-radius:16px; padding:18px; border:1px solid color-mix(in oklab, var(--ink) 10%, transparent)}
.about-list{display:grid; grid-template-columns:repeat(2,1fr); gap:14px}
.about-item{background:var(--card); border:1px solid color-mix(in oklab, var(--ink) 8%, transparent); border-radius:14px; padding:12px 14px}
.about-item h3{margin:0 0 4px; font-size:0.95rem; color:var(--muted); font-weight:700}
.about-item p{margin:0; font-weight:800}

/* ===== Tabs + Progress ===== */
.tabbar{display:flex; gap:10px; flex-wrap:wrap; margin-bottom:12px}
.chip{border:none; padding:8px 14px; border-radius:999px; cursor:pointer; background:var(--soft); color:var(--ink); border:1px solid color-mix(in oklab, var(--ink) 8%, transparent); font-weight:700}
.chip.active{background:color-mix(in oklab, var(--accent) 22%, transparent); color:var(--heading)}

.progress-item{margin:12px 0}
.progress-label{display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; font-weight:800}
.progress{height:14px; background:color-mix(in oklab, var(--ink) 8%, transparent); border-radius:999px; overflow:hidden}
.bar{height:100%; width:0; background:linear-gradient(90deg, var(--accent), var(--accent-dark)); color:#fff; font-size:12px; line-height:14px; text-align:right; padding-right:6px; transition:width 1.2s cubic-bezier(.25,.8,.25,1)}
.note{font-size:.92rem; color:var(--muted); margin-top:4px}

/* ===== Advantages (6) ===== */
#advantages .adv-grid{display:grid; gap:14px; grid-template-columns:repeat(6,1fr)}
.adv{background:var(--soft); border:1px solid color-mix(in oklab, var(--ink) 10%, transparent); border-radius:16px; padding:18px 14px; box-shadow:inset 0 1px 0 rgba(255,255,255,.2)}
.adv svg{width:26px; height:26px; fill:var(--accent); margin-bottom:6px}
.adv .title{font-weight:900; font-size:1.05rem; margin-bottom:6px}
.adv .desc{font-size:.98rem; color:var(--muted); margin:0}

/* ===== Activities grid ===== */
#activities .grid{display:grid; gap:14px; grid-template-columns:repeat(4,1fr)}
.act{background:var(--soft); border:1px solid color-mix(in oklab, var(--ink) 10%, transparent); border-radius:16px; padding:14px; transition:transform .2s ease, box-shadow .2s ease}
.act:hover{transform:translateY(-4px); box-shadow:0 16px 28px rgba(0,0,0,.08)}
.act .name{font-weight:900; margin:0 0 6px; color:var(--heading)}
.act .txt{margin:0; color:var(--muted); font-size:.98rem}
.act .photo{width:100%; aspect-ratio: 4/3; object-fit:cover; border-radius:12px; margin-top:10px; cursor:zoom-in}

/* ===== Life gallery ===== */
.gallery-wrap{position:relative}
.gallery{display:flex; gap:12px; overflow-x:auto; padding:6px; scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch}
.shot{flex:0 0 clamp(260px,35%,480px); max-width:35%; scroll-snap-align:center; border-radius:14px; overflow:hidden; box-shadow:var(--shadow); background:var(--soft)}
.shot img{width:100%; height:260px; object-fit:cover; cursor:zoom-in}
.gbtn{position:absolute; top:50%; transform:translateY(-50%); border:none; width:44px; height:44px; border-radius:50%; background:var(--card); border:1px solid color-mix(in oklab, var(--ink) 10%, transparent); cursor:pointer}
.gprev{left:-6px} .gnext{right:-6px}

/* ===== Lightbox ===== */
#lightbox[hidden]{display:none}
#lightbox{position:fixed; inset:0; background:rgba(0,0,0,.8); display:grid; place-items:center; z-index:1000; padding:20px}
#lightbox img{max-width:92vw; max-height:86vh; border-radius:14px; box-shadow:0 20px 50px rgba(0,0,0,.55)}
#lightbox .lb-close{position:absolute; top:20px; right:20px; width:46px; height:46px; border:0; border-radius:50%; background:var(--card); border:1px solid color-mix(in oklab, var(--ink) 10%, transparent); cursor:pointer; font-size:22px; line-height:1}

/* ===== Contact ===== */
.contact-list{display:grid; gap:12px; grid-template-columns:repeat(3,1fr)}
.contact-item{background:var(--soft); border-radius:16px; border:1px solid color-mix(in oklab, var(--ink) 10%, transparent); padding:16px; text-align:center}
.contact-item h3{margin:0 0 6px}
.contact-item a{color:var(--accent); font-weight:800}
.contact-item a:hover{color:var(--accent-dark); text-decoration:underline}

footer{max-width:1200px; margin:28px auto 60px; text-align:center; color:var(--muted)}

/* ===== Back to top ===== */
#backTop{position:fixed; right:16px; bottom:16px; display:none; border:0; width:48px; height:48px; border-radius:50%; box-shadow:0 8px 22px rgba(0,0,0,.25); background:var(--card); cursor:pointer; z-index:1200; font-size:18px; border:1px solid color-mix(in oklab, var(--ink) 10%, transparent)}

/* ===== Responsive ===== */
@media (max-width:1100px){#activities .grid{grid-template-columns:repeat(3,1fr)} #advantages .adv-grid{grid-template-columns:repeat(3,1fr)}}
@media (max-width:860px){.about-grid{grid-template-columns:1fr} .contact-list{grid-template-columns:1fr} .shot{max-width:70%}}
@media (max-width:600px){#activities .grid{grid-template-columns:repeat(2,1fr)} nav ul{gap:6px}}

/* 動畫偏好 */
@media (prefers-reduced-motion: reduce){*{animation:none!important; transition:none!important}}

.ai-widget {
  position: fixed;
  right: 16px;
  bottom: 80px; /* 避開回到頂部按鈕 */
  z-index: 1500;
  transform: scale(0.75);
  transform-origin: bottom right;
}
/* ===== AI導遊浮窗 ===== */
.ai-widget {
  position: fixed;
  right: 16px;
  bottom: 80px;
  z-index: 1500;
}

/* 小圓按鈕 */
.ai-toggle-btn {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: none;
  background: linear-gradient(135deg, #8b6e54, #d7bfa4);
  color: white;
  font-size: 28px;
  cursor: pointer;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
  transition: transform 0.25s ease, opacity 0.25s ease;
}

.ai-toggle-btn:hover {
  transform: scale(1.08);
}

/* 導遊面板（預設隱藏） */
.ai-panel {
  position: fixed;
  right: 16px;
  bottom: 80px;
  width: 700px;
  max-height: 100vh;
  background: #fffaf3;
  border-radius: 20px;
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.25);
  overflow: hidden;
  transform: scale(0);
  transform-origin: bottom right;
  transition: transform 0.3s ease;
}

/* 開啟狀態 */
.ai-panel.open {
  transform: scale(1);
}

@media (max-width: 600px) {
  .ai-panel {
    width: 90%;
    right: 5%;
    bottom: 100px;
  }
}

